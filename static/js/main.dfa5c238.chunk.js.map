{"version":3,"sources":["StateProvider.js","Firebase.js","Header.js","Product.js","Home.js","CheckoutProduct.js","reducer.js","Subtotal.js","Checkout.js","Login.js","App.js","serviceWorker.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","auth","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","Header","basket","user","className","to","src","type","onClick","signOut","email","length","Product","id","title","price","rating","image","dispatch","Array","fill","map","_","alt","item","Home","CheckoutProduct","getBasketTotal","reduce","amount","state","action","console","log","index","findIndex","basketItem","newBasket","splice","warn","Subtotal","renderText","decimalScale","displayType","thousandSeparator","prefix","Checkout","Login","useState","setEmail","password","setPassword","history","useHistory","onChange","e","target","preventDefault","signInWithEmailAndPassword","then","push","catch","alert","message","createUserWithEmailAndPassword","App","useEffect","unsubscribe","onAuthStateChanged","authUser","path","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.dfa5c238.chunk.js","sourcesContent":["//setup daa layer\r\n// add this to the basket\r\n\r\nimport React, { createContext, useContext, useReducer  } from \"react\";\r\n\r\n// SET UP DATA LAYER\r\nexport const StateContext = createContext();\r\n \r\n\r\n//BUILD A PROVIDER\r\n\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n      {children}\r\n    </StateContext.Provider>\r\n  );\r\n\r\n// use the following setup inside the component\r\nexport const useStateValue = () => useContext(StateContext)","import firebase from \"firebase\";\r\n\r\n\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = firebase.initializeApp\r\n({\r\n    apiKey: \"AIzaSyA-Pbey8t97aF-6JC3EKeGxF16r5jWgXus\",\r\n    authDomain: \"clone-c369a.firebaseapp.com\",\r\n    databaseURL: \"https://clone-c369a.firebaseio.com\",\r\n    projectId: \"clone-c369a\",\r\n    storageBucket: \"clone-c369a.appspot.com\",\r\n    messagingSenderId: \"675882484789\",\r\n    appId: \"1:675882484789:web:6d1dcaa83f6cdc39891d7c\",\r\n    measurementId: \"G-QMP3LL1PQF\"\r\n  });\r\n\r\n\r\n  const db = firebaseConfig.firestore();\r\n  const auth = firebase.auth();\r\n\r\n\r\n  export { auth };","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Header.css';\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { auth } from './Firebase';\r\n\r\n\r\nfunction Header() {\r\n\r\n  const [{ basket, user }] = useStateValue();\r\n\r\n  const login = () => {\r\n    if(user) {\r\n      auth.signOut();\r\n    }\r\n  }\r\n  \r\n    return (\r\n        <nav className='header'> \r\n            {/* logo on the left -> image */}\r\n        <Link to ='/'>\r\n        <img className='header__logo' \r\n        src='http://pngimg.com/uploads/amazon/amazon_PNG11.png' />\r\n      \r\n        </Link>    \r\n\r\n        {/* Search box */}\r\n        <div className='header__search'>\r\n        <input type='text' className='header__searchInput'></input>\r\n        <SearchIcon className='header__searchIcon' />\r\n        </div>\r\n\r\n        {/*  3 links  */}\r\n        <div className='header__nav'>\r\n\r\n        {/* 1st link* */}\r\n        <Link to={!user && '/login'}  className='header__link'>\r\n          <div onClick={login} className='header__option'>              \r\n    <span className='header__option__line1'>{user?.email}</span>\r\n            <span className='header__option__line2'>{!user? 'Sign in': 'SIgn out' }</span>\r\n        </div>  \r\n        </Link>\r\n\r\n        {/* 2nd link* */}\r\n        <Link to='/login' className='header__link'>\r\n          <div className='header__option'>              \r\n            <span className='header__option__line1'>Returns</span>\r\n            <span className='header__option__line2'>Orders</span>\r\n        </div>  \r\n        </Link>\r\n\r\n        {/* 3rd link* */}\r\n        <Link to='/' className='header__link'>\r\n          <div className='header__option'>              \r\n            <span className='header__option__line1'>Yours</span>\r\n            <span className=' header__option__line2'>Prime</span>\r\n        </div>  \r\n        </Link>\r\n\r\n        {/* basket icons with number  */}\r\n        <Link to='/checkout' className='header__link'>\r\n        <div className='header__optionBasket'>\r\n            {/* basket icon */}\r\n            <ShoppingBasketIcon />\r\n            {/* number of items in basket */}\r\n            <span className='header__option__line2 header__basketCount'>{basket.length}</span>\r\n        </div>\r\n        </Link>\r\n\r\n        </div>\r\n        </nav> \r\n    )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport \"./Product.css\";\r\n\r\n//import data layer\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\n\r\nfunction Product({ id, title, price, rating, image }) {\r\n\r\nconst [{basket}, dispatch] = useStateValue();\r\n\r\nconst addToBasket = () => {\r\n  //add item to basket\r\n  dispatch ({\r\n    type: 'ADD_TO_BASKET',\r\n    item: {\r\n      id,\r\n      title,\r\n      price,\r\n      rating,\r\n      image\r\n    }\r\n  })\r\n};\r\n\r\n  return (\r\n    <div className='product'>\r\n    <div className = 'product__info'>\r\n      <p>{title}</p>\r\n      <p className='product__price'>\r\n        <small>$</small>\r\n        <strong>{price}</strong>\r\n      </p>   \r\n    <div className='product__rating'>\r\n      {Array(rating)\r\n       .fill()\r\n       .map((_) => (\r\n    //   <span role='image'>🌟</span>\r\n    <p>*</p>\r\n    ))}    \r\n     </div>\r\n    </div>\r\n     <img src={image} alt='' />\r\n      <button onClick= {addToBasket} >Add to basket</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Product;\r\n","import React from 'react';\r\nimport './Home.css';\r\nimport Product from \"./Product\";\r\n\r\n\r\nfunction Home() {\r\n    return (\r\n    <div className='home'>\r\n    <img className='home__image'\r\n    src= 'https://m.media-amazon.com/images/G/01/digital/video/sonata/Superhero_UK_Acquisition_FT_Apr_20/7a2ef2c8-d54c-4da8-beba-f4e12a0f10d5._UR1280,600_SX1500_FMjpg_.jpg'\r\n    alt='' \r\n    />\r\n    {/* Product.id, title, price, rating, image */}\r\n    <div className=\"home__row\">\r\n          <Product\r\n            id=\"12321341\"\r\n            title=\"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses Paperback\"\r\n            price={11.96}\r\n            rating={5}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._SX325_BO1,204,203,200_.jpg\"\r\n          />\r\n          <Product\r\n            id=\"49538094\"\r\n            title=\"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl\"\r\n            price={239.0}\r\n            rating={4}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/81O%2BGNdkzKL._AC_SX450_.jpg\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"home__row\">\r\n          <Product\r\n            id=\"4903850\"\r\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor\"\r\n            price={199.99}\r\n            rating={3}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg\"\r\n          />\r\n          <Product\r\n            id=\"23445930\"\r\n            title=\"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric\"\r\n            price={98.99}\r\n            rating={5}\r\n            image=\"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$\"\r\n          />\r\n          <Product\r\n            id=\"3254354345\"\r\n            title=\"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)\"\r\n            price={598.99}\r\n            rating={4}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"home__row\">\r\n          <Product\r\n            id=\"90829332\"\r\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440\"\r\n            price={1094.98}\r\n            rating={4}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg\"\r\n          />\r\n          \r\n    </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport \"./CheckoutProduct.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\n\r\nfunction CheckoutProduct({ id, title, image, price, rating }) {\r\n\r\nconst [{basket}, dispatch] = useStateValue();\r\n\r\nconst deleteFromBasket = () => {\r\n//add item to basket\r\n    dispatch ({\r\n        type: 'REMOVE_FROM_BASKET',\r\n        id: id\r\n    })\r\n};\r\n  \r\nreturn ( \r\n\r\n <div className='checkoutproduct'>\r\n\r\n    <img className='checkoutproduct__image' src={image} alt='' />\r\n     <div className = 'checkoutproduct__info'>\r\n      <p className= 'checkoutproduct__info' >{title}</p>\r\n      <p className='checkoutproduct__price'>\r\n        <small>$</small>\r\n        <strong>{price}</strong>\r\n      </p>   \r\n    <div className='checkoutproduct__rating'>\r\n      {Array(rating)\r\n       .fill()\r\n       .map((_) => (\r\n    //   <span role='image'>🌟</span>\r\n    <p>*</p>\r\n    ))}    \r\n     </div>\r\n    </div>\r\n      <button className='checkoutProduct__button' onClick= {deleteFromBasket} >Remove from basket</button>\r\n</div>\r\n);\r\n}\r\n\r\n\r\nexport default CheckoutProduct;\r\n\r\n\r\n\r\n\r\n\r\n","export const initialState = {\r\n  basket: [],\r\n  user: null\r\n};\r\n\r\n// Selector\r\nexport const getBasketTotal = (basket) => \r\n  basket?.reduce((amount, item) => item.price + amount, 0);\r\n\r\nconst reducer = (state, action) => {\r\n  console.log(action);\r\n  switch (action.type) {\r\n    case \"ADD_TO_BASKET\":\r\n      return {\r\n        ...state,\r\n        basket: [...state.basket, action.item],\r\n      };\r\n    \r\n    case 'EMPTY_BASKET':\r\n      return {\r\n        ...state,\r\n        basket: []\r\n      }\r\n\r\n    case \"REMOVE_FROM_BASKET\":\r\n      const index = state.basket.findIndex(\r\n        (basketItem) => basketItem.id === action.id\r\n      );\r\n      let newBasket = [...state.basket];\r\n\r\n      if (index >= 0) {\r\n        newBasket.splice(index, 1);\r\n\r\n      } else {\r\n        console.warn(\r\n          `Cant remove product (id: ${action.id}) as its not in basket!`\r\n        )\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        basket: newBasket\r\n      }\r\n    \r\n    case \"SET_USER\":\r\n      return {\r\n        ...state,\r\n        user: action.user\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;","import React from 'react';\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { getBasketTotal } from \"./reducer.js\";\r\nimport './Subtotal.css';\r\n\r\n\r\nfunction Subtotal() {\r\n\r\n const [{basket}, dispatch] = useStateValue();\r\n\r\n  return (\r\n    <div className=\"subtotal\">\r\n    <CurrencyFormat\r\n      renderText={(value) => (\r\n        <>\r\n          <p>\r\n            Subtotal ({basket.length} items): <strong>{value}</strong>\r\n          </p>\r\n          <small className=\"subtotal__gift\">\r\n            <input type=\"checkbox\" /> This order contains a gift\r\n          </small>\r\n        </>\r\n      )}\r\n      decimalScale={2}\r\n      value={getBasketTotal(basket)} // Part of the homework\r\n      displayType={\"text\"}\r\n      thousandSeparator={true}\r\n      prefix={\"$\"}\r\n    />\r\n     <button>Proceed to checkout</button>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Subtotal\r\n","import React from 'react';\r\nimport './Checkout.css';\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport Subtotal from './Subtotal';\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\nfunction Checkout() {\r\n\r\nconst [ { basket }] = useStateValue();\r\n\r\n return (\r\n  <div className='checkout'> \r\n    <div className='checkout__left'> \r\n     <img\r\n     className='checkout__ad' \r\n     src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\r\n     alt = ''\r\n    />\r\n       {basket?.length === 0 ? (\r\n          <div>\r\n            <h2>Your basket is empty</h2>\r\n                <p>Click \"Add to basket\" to add one or more items to the basket</p>\r\n          </div>\r\n          ) : ( \r\n          <div className='checkout__title'>\r\n            <h2>Your shopping basket </h2>\r\n            {basket?.map( (item, id) => (\r\n              // console.log(basket);\r\n  \r\n            <CheckoutProduct            \r\n                id={item.id}\r\n                title={item.title}\r\n                image={item.image}\r\n                price={item.price}\r\n                rating={item.rating}\r\n            />\r\n          ))}\r\n        </div>\r\n       )}  \r\n    </div>\r\n    {\r\n      basket.length > 0 && (\r\n        <div className = 'checkout__right'>\r\n        <Subtotal />\r\n       </div>\r\n      )\r\n    }\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n","import React, { useState} from 'react';\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\nimport { auth } from './Firebase';\r\n\r\nfunction Login() {\r\n\r\nconst [ email, setEmail ] = useState(\"\");\r\nconst [ password, setPassword ] = useState(\"\");\r\nconst history = useHistory();\r\n\r\n\r\nconst register = (e) => {\r\n  // prevent auto submission\r\n  e.preventDefault();\r\n      \r\nauth \r\n//check login\r\n.signInWithEmailAndPassword(email, password) \r\n.then((auth) => {\r\n//logged in , redirect to homepage\r\nhistory.push(\"/\");\r\n\r\n})\r\n.catch((e) => alert(e.message));\r\n};\r\n\r\n\r\nconst createAccount = (e) => {\r\n\r\ne.preventDefault();\r\n\r\n  //check login\r\n  auth\r\n  .createUserWithEmailAndPassword(email, password) \r\n  .then((auth) => {\r\n    //logged in , redirect to homepage\r\n    history.push(\"/\");\r\n\r\n  })\r\n  .catch((e) => alert(e.message));\r\n  };\r\n\r\n  return (\r\n    <div className='login'>\r\n      <Link to='/'>\r\n      <img \r\n      className = 'login__logo'\r\n      src='https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png'       alt = ''\r\n      />\r\n\r\n    </Link>\r\n      <div className='login__container'>\r\n        <h2>Sign In</h2>\r\n\r\n        <form>\r\n        <h5>Email</h5>\r\n        <input type='text' value={email} onChange={e => setEmail(e.target.value)} />\r\n\r\n        <h5>Password</h5>\r\n        <input type='text' value={password} onChange={e => setPassword(e.target.value)} />\r\n\r\n\r\n        <button type='submit' onClick={register} className='login__signInButton' >Login</button>\r\n\r\n        </form>\r\n        \r\n        <p>\r\n          By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please\r\n          see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice.\r\n        </p>\r\n\r\n        <button type='submit' className='login__registerButton' onClick= {createAccount}>Create your Amzon account</button>\r\n      </div>\r\n\r\n    </div>\r\n   )\r\n}\r\n\r\nexport default Login;\r\n","import React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport './App.css';\nimport Header from \"./Header\";\nimport Home from \"./Home\";\nimport Checkout from \"./Checkout\";\nimport Login from \"./Login\";\nimport { useStateValue } from \"./StateProvider\";\nimport { auth } from './Firebase';\n\n\nfunction App() {\n\nconst [{basket}, dispatch] = useStateValue();\n\nuseEffect( () => {\n\nconst unsubscribe =  auth.onAuthStateChanged( (authUser) => {\n   if(authUser) {\n   dispatch ({\n      type: 'SET_USER',\n      user: authUser,\n   });\n\n   } else {\n    dispatch ({\n      type: 'SET_USER',\n      user: null,\n   });\n    \n   }\n})\n   \n   return () => {\n    //  add clean up when component unmounts\n     unsubscribe();\n  }\n\n}, []);\n\n  return (\n    <Router>\n      <div className=\"app\">\n       <Switch>         \n         <Route path=\"/checkout\">\n         <Header />\n         <Checkout />\n         </Route>\n         \n         <Route path='/login'>\n          <Login />\n         </Route>\n\n         <Route path='/'>\n          <Header/>\n            <Home /> \n         </Route>\n       </Switch>\n    </div>\n     </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n      // [::1] is the IPv6 localhost address.\r\n      window.location.hostname === '[::1]' ||\r\n      // 127.0.0.0/8 are considered localhost for IPv4.\r\n      window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n      )\r\n  );\r\n  \r\n  export function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n      // The URL constructor is available in all browsers that support SW.\r\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n      if (publicUrl.origin !== window.location.origin) {\r\n        // Our service worker won't work if PUBLIC_URL is on a different origin\r\n        // from what our page is served on. This might happen if a CDN is used to\r\n        // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n        return;\r\n      }\r\n  \r\n      window.addEventListener('load', () => {\r\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n  \r\n        if (isLocalhost) {\r\n          // This is running on localhost. Let's check if a service worker still exists or not.\r\n          checkValidServiceWorker(swUrl, config);\r\n  \r\n          // Add some additional logging to localhost, pointing developers to the\r\n          // service worker/PWA documentation.\r\n          navigator.serviceWorker.ready.then(() => {\r\n            console.log(\r\n              'This web app is being served cache-first by a service ' +\r\n                'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n            );\r\n          });\r\n        } else {\r\n          // Is not localhost. Just register service worker\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  function registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n      .register(swUrl)\r\n      .then(registration => {\r\n        registration.onupdatefound = () => {\r\n          const installingWorker = registration.installing;\r\n          if (installingWorker == null) {\r\n            return;\r\n          }\r\n          installingWorker.onstatechange = () => {\r\n            if (installingWorker.state === 'installed') {\r\n              if (navigator.serviceWorker.controller) {\r\n                // At this point, the updated precached content has been fetched,\r\n                // but the previous service worker will still serve the older\r\n                // content until all client tabs are closed.\r\n                console.log(\r\n                  'New content is available and will be used when all ' +\r\n                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n                );\r\n  \r\n                // Execute callback\r\n                if (config && config.onUpdate) {\r\n                  config.onUpdate(registration);\r\n                }\r\n              } else {\r\n                // At this point, everything has been precached.\r\n                // It's the perfect time to display a\r\n                // \"Content is cached for offline use.\" message.\r\n                console.log('Content is cached for offline use.');\r\n  \r\n                // Execute callback\r\n                if (config && config.onSuccess) {\r\n                  config.onSuccess(registration);\r\n                }\r\n              }\r\n            }\r\n          };\r\n        };\r\n      })\r\n      .catch(error => {\r\n        console.error('Error during service worker registration:', error);\r\n      });\r\n  }\r\n  \r\n  function checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl, {\r\n      headers: { 'Service-Worker': 'script' },\r\n    })\r\n      .then(response => {\r\n        // Ensure service worker exists, and that we really are getting a JS file.\r\n        const contentType = response.headers.get('content-type');\r\n        if (\r\n          response.status === 404 ||\r\n          (contentType != null && contentType.indexOf('javascript') === -1)\r\n        ) {\r\n          // No service worker found. Probably a different app. Reload the page.\r\n          navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister().then(() => {\r\n              window.location.reload();\r\n            });\r\n          });\r\n        } else {\r\n          // Service worker found. Proceed as normal.\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log(\r\n          'No internet connection found. App is running in offline mode.'\r\n        );\r\n      });\r\n  }\r\n  \r\n  export function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.ready\r\n        .then(registration => {\r\n          registration.unregister();\r\n        })\r\n        .catch(error => {\r\n          console.error(error.message);\r\n        });\r\n    }\r\n  }\r\n  ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\nimport { StateProvider } from './StateProvider';\nimport reducer, { initialState } from \"./reducer\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={ reducer } >\n      <App /> \n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}